<!DOCTYPE html>
<!-- this file is auto-generated from docs/troubleshooting.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer
in the documentation and/or other materials provided with the
distribution.
    * Neither the name of Gregg Tavares. nor the names of his
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="Troubleshooting" />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://docs.happyfuntimes.net/docs/images/happyfuntimes.jpg" />
<meta property="og:description" content="Troubleshooting HappyFunTimes" />
<meta property="og:url" content="http://docs.happyfuntimes.net/docs/troubleshooting.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="docs.happyfuntimes.net" />
<meta name="twitter:title" content="Troubleshooting" />
<meta name="twitter:url" content="http://docs.happyfuntimes.net/docs/troubleshooting.html" />
<meta name="twitter:description" content="Troubleshooting HappyFunTimes" />
<meta name="twitter:image:src" content="http://docs.happyfuntimes.net/docs/images/happyfuntimes.jpg" />

<title>Troubleshooting</title>

<link href="/public/hft-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/docs/assets/css/styles.css" type="text/css" />
</head>
<body>
<div class="header">
  <h1><a href="/docs">HappyFunTimes Docs</a></h1>
</div>


<div class="container">
  <div class="docs-title">
    <h1>Troubleshooting</h1>
  </div>
  <div class="row">
    <div class="col-sm-8 docs-content">
      <h2 id="common-issues">Common Issues</h2>
<h3 id="phones-can-t-connect">Phones can&#39;t connect</h3>
<ul>
<li><p>Are they on the same WiFi / same router as the game?</p>
<p>HappyFunTimes requires the phones to be able to talk directly
to the system running the game so the first thing to do is
check the phones are on the same WiFi</p>
<p>Additionally Corporate WiFi and Internet Cafe WiFi is often
configured so that phone can not connect to computers.
HappyFunTimes, in general, only supports home routers.</p>
</li>
<li><p>Does the game have pemission to access the internet?</p>
<p>On Windows in particular, the first time a game (or Unity) is run
Windows will pop up a window asking to give the game permission
to access the internet or not. If you said <em>no</em> or if the system
is configured to automically deny access then you need to go into
your Windows Firefall settings and grant access</p>
<p><a href="https://www.technipages.com/blockunblock-programs-in-windows-firewall">This article might be helpful</a></p>
</li>
</ul>
<h2 id="how-happyfuntimes-works">How HappyFunTimes Works</h2>
<p>HappyFunTimes works by running a small web server. The web server serves the webpages to the phones.
It also implements websockets which allow the phone and the game to pass messages between each other.</p>
<p>Look up the IP address of your computer</p>
<p>On Windows</p>
<ul>
<li><p>Open a command prompt and type <code>ipconfig</code></p>
<p><img src="assets/images/windows-ipconfig-normal.png" /></p>
</li>
</ul>
<p>On macOS/Linux</p>
<ul>
<li><p>Open a terminal and type <code>ifconfig</code></p>
<p><img src="assets/images/macos-ifconfig-normal.png" width="66%" height="66%" /></p>
</li>
</ul>
<p>If you run your game you should be able to connect the phone to the game going directly to
that address.</p>
<p>On your phone open your browser and type <code>http://&lt;ipaddress&gt;:18679</code> where <code>&lt;ipaddress&gt;</code> is
the address of the computer running the game. For example looking at the windows machine
above its ip address is <code>171.16.1.191</code> so you&#39;d type <code>http://171.16.1.191:18679</code> into your
phone.</p>
<p>If the phone does NOT connect to game one of 3 things are wrong</p>
<ol>
<li><p>Your phone is not actually on the same network</p>
<p>Double check.</p>
</li>
<li><p>If you are using Unity then one possiblity is the path to the controller in the happyfuntimes options
is not set correctly</p>
<p>See <a href="unity/happyfuntimes-options.html#Controller-Filename">Unity3D HappyFunTimes Options</a></p>
</li>
<li><p>Your router is not allowing devices to talk to each other.</p>
<p>Generally home internet routers let all devices connected to them to talk to each other.
On the other hand corporate networks, university and school networks, and internet cafe networks
often do <strong>not</strong> let devices on the same network talk to each other.</p>
<p>You&#39;ll need to figure out how to allow those devies to talk to each other.</p>
<p>One way to test is to use a <code>ping</code> program.</p>
<p>For iOS you can use <a href="https://itunes.apple.com/us/app/ping-network-reachability-test/id576773404?mt=8">a program like this</a>
or for Android <a href="https://play.google.com/store/apps/details?id=ua.com.streamsoft.pingtools&amp;hl=en">a program like this</a>.</p>
<p>Download the app, make sure the phone is connected to the same network as your computer. Look up the computer&#39;s
ip address. Then, using the app, try to <em>ping</em> the computer.</p>
<p>If you can not ping the computer from your phone then your router either needs to be reconfigured OR
you need to get another router for your happyfuntimes project (they cost as little as $15).</p>
</li>
</ol>
<h2 id="-happyfuntimes-net-"><code>happyfuntimes.net</code></h2>
<p>When using happyfuntimes you normally tell users to go to <code>happyfuntimes.net</code>. happyfuntimes.net sole
purpose is to type <code>http://&lt;ipaddress&gt;:18679</code> for your users since telling users to type something like
<strong><em>aitch tee tee pee colon slash slash one nine two dot one six eight dot two dot seven nine colon one
eight six seven nine</em></strong> is way harder then just telling them to type <strong><em>happy fun times dot net</em></strong>.</p>
<p>happyfuntimes.net works because on a normal home router all devices (your phones, your computer, etc)
look like they are the same to machines on the internet.</p>
<p>So, when a happyfuntimes game starts it sends a message to <code>happyfuntimes.net</code> saying &quot;hey! I started a game.
My local ip address is <ipaddress>&quot;. That <code>&lt;ipaddress&gt;</code> is the <em>local</em> ip address. The one we looked up above.
It&#39;s only a useful address for computers using the same router to talk to each other.</p>
<p>happyfuntimes.net sees the message. It also sees your router&#39;s public IP address. Your router&#39;s public IP
address is the address computers on the internet use to talk to your router and hence the machines
connected to your router. Let&#39;s pretend your router&#39;s public ip address is <code>12.34.56.78</code>.
happyfuntimes.net then records that there is a game running at local ip address <code>171.16.1.191</code>
on a machine at public ip address <code>12.34.56.78</code>.</p>
<p>Now a user who&#39;s phone is connected to the same router goes to happyfuntimes.net. Happyfuntimes.net sees
that this phone is also from the same router&#39;s public ip address. In this case <code>12.34.56.78</code>. So it sees there is
a game associated with that public ip address of <code>12.34.56.78</code> and so it tells the phone <code>go to http://171.16.1.191:18679</code>.</p>
<p>Once that is done happyfuntimes.net is out of the loop. The phone is now talking directy to the game and the
game to the phone just as if you had typed <code>http://171.16.1.191:18679</code> directly into the phone&#39;s browser.</p>
<h3 id="troubleshooting-happyfuntimes-net">Troubleshooting happyfuntimes.net</h3>
<p>Reading the section above there are things that can go wrong. If the router gives the computer and the phone
different public IP addresses then happyfuntimes.net will not find any maching ip address to direct the phone
to connect to.</p>
<p>You can see what happyfuntimes.net thinks your public IP address is by typing this into your browser</p>
<pre><code>http://happyfuntimes.net?verbose=true&amp;go=false
</code></pre><p>Do this on <strong>both</strong> your computer <em>and</em> your phone. You will get a list of numbers on the screen. Example</p>
<pre><code>checking: http://happyfuntimes.net/api/getgames2
hft response: {&quot;gameIps&quot;:[],&quot;publicIps&quot;:[&quot;12.34.56.78&quot;]}
</code></pre><p>One of the public IP addresses (there may be more than one) on the phone and the computer must match.
If they do not match then happyfuntimes can not tell your computer and your phone are on the same network.
Either the are actually <em>not</em> on the same network, verify that they are. Or, your router is reporting different
ip addresses for different devices in which case you&#39;ll need to configure your router or use
a different one or tell your users to type the entire local ip address into their phones.</p>
<h3 id="ipv6">IPv6</h3>
<p>IPv6 uses different and longer numbers. If you are on an IPv6 network then if you go to the web pages above
you might see something like this</p>
<ul>
<li><p>On the computer</p>
<pre><code>checking: http://happyfuntimes.net/api/getgames2
hft response: {&quot;gameIps&quot;:[],&quot;publicIps&quot;:[&quot;2601:204:c702:5f87:3d3e:d184:f486:1e8a&quot;]}
</code></pre></li>
<li><p>On the phone:</p>
<pre><code>checking: http://happyfuntimes.net/api/getgames2
hft response: {&quot;gameIps&quot;:[],&quot;publicIps&quot;:[&quot;2601:204:c702:5f87:c541:9c94:3c2c:7d45&quot;]}
</code></pre></li>
</ul>
<p>For IPv6 what&#39;s generally important is that the first 12-24 numbers match. The last few should
not matter. You&#39;ll notice above the phone&#39;s and the computer&#39;s first 15 numbers match (<code>2601:204:c702:5f87</code>).</p>
<p>To check that your phone can connect using IPv6 you can try your computer&#39;s public IPv6 address by
typing for example (using the number above).</p>
<pre><code> http://[2601:204:c702:5f87:3d3e:d184:f486:1e8a]:18679
</code></pre><p>If that does not work you can try typing your computer&#39;s local IPv6 address. With IPv6 isn&#39;t
not common to have a local address. Local addresses start with <code>FC00</code>. Use the examples above
for <code>ipconfig</code> (windows) or <code>ifconfig</code> (macos/linux). Find you have a local IPv6 address and type that in
in the format <code>http://[IPv6address]:18679</code></p>
<p>You can also try the ping IPv6 addresses with the tools mentioned above.</p>
<h3 id="debugging-further">Debugging further</h3>
<p>If you run your game and then go to the webpages mentioned above the <code>gameIps:[]</code> section
should list the local addresses happyfuntimes returns for games that match the public ip address.</p>
<h4 id="unity">Unity</h4>
<p>If you&#39;re using Unity you can enable debugging, in this case from the menus pick
<code>Window-&gt;HappyFunTimes-&gt;HappyFunTimes Settings</code>.</p>
<p>In the debug area type <code>HFTSite</code></p>
<div style="text-align: center;">
  <img src="unity/images/debug-setting.png" />
</div>

<p>Now run the game. You should see a message like this in the console.</p>
<div style="text-align: center;">
  <img src="unity/images/hftsite-console.png" />
</div>

<p>The first message shows what the happyfuntimes unity plugin reported to happyfuntimes.net.
These are the local IP addresses.</p>
<p>The second message shows what those local ipaddress and what public ipaddress were associated
with them.</p>
<h4 id="electron-hft-command-line">Electron / hft command line</h4>
<p>You should be able to tell happyfuntimes which local IP address to send by using <code>--address=ipaddress</code>.
By default happyfuntimes uses all local ip addresses. It&#39;s not common to have more than one but
if you have complex networking or run VMs you might have more than one.</p>

      <div class="docs-footer">
        <div>Questions? <a href="http://stackoverflow.com/questions/tagged/happyfuntimes">Ask on stackoverflow</a>.</div>
        <div>Issue/Bug? <a href="http://github.com/greggman/happyfuntimes/issues">Create an issue on github</a>.</div>
        <div class="docs-comments">
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'happyfuntimes'; // required: replace example with your forum shortname
            var disqus_identifier = 'Troubleshooting';
            var disqus_title = 'Troubleshooting';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
              if (window.location.hostname.indexOf("happyfuntimes") < 0) {
                return;
              }
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
      </div>
    </div>
    <div class="col-sm-3 col-sm-offset-1 docs-sidebar">
        <ul class="toc">
    <li><a href="introduction.html">Introduction</a></li>
    <li>
        <b>Making Games</b>
        <ul>
            <li><a href="making-games/index.html">Making games in HTML5</a></li>
            <li><a href="unity">Making games in Unity3D</a></li>
            <li><a href="making-games/tips.html">Tips</a></li>
        </ul>
    </li>
    <li>
        <b>Ideas and Examples</b>
        <ul>
            <li><a href="ideas.html">Ideas</a></li>
            <li><a href="examples.html">Examples</a></li>
        </ul>
    </li>
    <li>
        <b>Other</b>
        <ul>
            <li><a href="network.html">Museums & Installations</a></li>
            <li><a href="troubleshooting.html">Troubleshooting</a></li>
            <li><a href="https://github.com/greggman/happyfuntimes/issues/">Support</a></li>
        </ul>
    </li>
    <li>
        <b>Contributing</b>
        <ul>
            <li><a href="contributing.html">Contributing</a></li>
            <li><a href="future.html">Future Features</a></li>
        </ul>
    </li>
</ul>

    </div>
  </div>
</div>
</body>
<script src="/docs/assets/3rdparty/jquery.js"></script>
<script src="/docs/assets/js/lesson.js"></script>
<script src="/docs/assets/3rdparty/highlight.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51764205-4', 'auto');
  ga('send', 'pageview');

</script>


</html>



